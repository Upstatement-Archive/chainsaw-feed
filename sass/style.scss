/*	Theme Name: Prologue
	Description: The Upstatement Theme. WordPress using MVC pattern for better(ish) management and control
	Author: Upstatement
	Template: timber-theme
*/ 

//  ## Bring in all Compass Helpers 
@import "partials/base";
@import "partials/reset";
 
//  ## Base CSS  
// @import "project/forms";
// @import "project/tables";
// @import "project/lists";

//  ## Components 
// @import "project/dropdowns"; 
// @import "project/tabs";
// @import "project/modals";
// @import "project/tooltips";

 
  
/* --------------------------------------------- */

/*	Type styles					   			     */ 

/* --------------------------------------------- */

a 				{ 	text-decoration: none; color: inherit; }
strong			{	font-weight: bold;	}
em   			{	font-style: italic;	}
.resp-img   	{	@include resp-img;	}
.hidden 		{   display:none;       }
	
body {
	color: $txt;
	font-family: "Open Sans", 'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif;
}

// Use this element to place background
// elements at the top of the page only
.bg-top {
	@include absolute(0 0 n 0);
	height: 225px;
	z-index: -1;
	@media (min-width: 750px) {
		height: 515px;
	}
}



/* --------------------------------------------- */

/*	Header & Navigation							 */

/* --------------------------------------------- */

.main-hdr {
	overflow: hidden;
}

.hdr-content {
	position: relative;
	@include layout;
}

.nav-logo-mod {
	font-size: 21px;
	display: block;
	padding: 15px 0 17px;
	margin: auto;
	position: relative;

	@media (min-width: 750px) {
		margin-top: 0;
		padding: 20px 0;
		text-align: center;
	}
} // nav-logo-mod

.nav-logo-img {
	max-width: 100%;		
}

.logo-left {
	@media (min-width: 750px) {
		.hdr-content {
			@include pie-clearfix;
		}
		.nav-logo-mod {
			text-align: left;
		}
		.main-nav {
			@include absolute(n 0 0 n);
		}
	} //mq
}

.logo-btm {
	@media (min-width: 750px) {
		.nav-logo-mod {
			margin-top: 40px;
			font-size: 26px;	
		}
		.main-nav {
			@include absolute(-40px 0 n 0);
		}		
	} //mq
}

.logo-top {
	@media (min-width: 750px) {
		.nav-logo-mod {
			font-size: 26px;
			padding-bottom: 0;	
		}
	} //mq
}

.nav-logo {
	// Leave room for the close button
	display: inline-block;
	margin-right: 60px;
	@include user-select;

	@media (min-width: 750px) {
		margin-right: 0;
	}
}


// Themes

.hdr-dark {
	color: #fff;
	background-color: #000;
	&.hdr-trans {
		@include bg(black, .5);
	}
}

.hdr-light {
	color: #000;
	background-color: #fff;
	&.hdr-trans {
		@include bg(white, .5);
	}
}

// Background Transparency

.hdr-clear {
	background-color: transparent;
	@include trans;
	&.nav-active.hdr-dark {
		background-color:rgba(black, .9);
	}
	&.nav-active.hdr-light {
		background-color:rgba(white, .9);
	}
	@media (min-width: 750px) {
		&.nav-active.hdr-dark,
		&.nav-active.hdr-light {
			background-color: transparent !important;
		}
	}
}


/* --------------------------------------------- */

/*	Menu										 */ 

/* --------------------------------------------- */

.main-nav-trigger {
	display: block;
	width: 50px;
	@include svg(menu-blk);
	@include absolute(0 0 0 n);
	@include user-select;
	&:hover {
		cursor: pointer;
	}
	@media (min-width: 750px) {
		display: none;
	}

	// If dark header, reverse the color
	.hdr-dark & {
		@include svg(menu-wht);
	}
	// Switch to the close button
	.nav-active &	{
		@include svg(menu-x-blk);
	}
	// If dark header, reverse the color
	.hdr-dark.nav-active &	{
		@include svg(menu-x-wht);
	}

	// If SVG isn't supported, make sure the PNG is the right size
	.no-svg & {
		background-size: 21px 19px;
	} 
}


// Uses classes and structure generated by WP
.menu {
	display: none;

	> li > a {
		display: block;
		padding: 12px;
		font-weight: bold;
		font-size: 12px;
		text-transform: uppercase;
		letter-spacing: 1px;
		&:hover {
			text-decoration: underline;
		}
	}

	@media (max-width: 749px) {
		// Add a little extra space to the last item
		// It looks weird for some reason without
		> li:last-child > a {
			padding-bottom: 16px;
		}
	}

	.hdr-dark & > li:last-child > a {
		border-bottom: 0;
	}

	.hdr-dark & {
		border-top: 1px solid rgba(255,255,255,.1);
		border-bottom: 1px solid #333;
		> li > a {
			border-top: 1px solid #333;
			border-bottom: 1px solid rgba(255,255,255,.1);
		}
	}

	.hdr-dark.hdr-trans & {
		border-top: 1px solid rgba(0,0,0,.1);
		border-bottom: 0;
		> li > a {
			border-top-color: rgba(255,255,255,.2);
			border-bottom-color: rgba(0,0,0,.1);
		}
	}

	.hdr-light & {
		border-top: 1px solid rgba(0,0,0,.1);
		border-bottom: 1px solid rgba(255,255,255,.4);
		> li > a {
			border-top: 1px solid #e5e5e5;
			border-top-color: rgba(255,255,255,.4);
			border-bottom: 1px solid rgba(0,0,0,.1);
		}
	}

	@media (min-width: 750px) {
		display: block !important;
		text-align: center;
		margin-bottom: 10px;
		border-top: 0 !important;
		border-bottom: 0 !important;
		> li {
			display: inline;
			margin-right: 15px;
		}
		> li > a {
			display: inline-block;
			padding: 12px;
			height: 38px;
		}
		.hdr-dark & > li > a,
		.hdr-light & > li > a {
			border: 0;		
		}
	} // mediaquery


	// Twitter & Facebook

	> .menu-item-slug-twitter,
	> .menu-item-slug-facebook {
		> a {	
			position: relative;
			padding-left: 31px;
			&:before {
				@include content;
				@include absolute(14px n n 8px);
			}
			@media (min-width: 750px) {
				padding-left: 14px;
				text-indent: -9999em;
			}
		}
		@media (min-width: 750px) {
			margin-right: 3px;
		}
	}

	> .menu-item-slug-twitter > a {
		&:before {
			height: 14px;
			width: 14px;			
			@include svg(twtr-wht);
			.hdr-light & {
				@include svg(twtr-blk);
			}
		}
	}

	> .menu-item-slug-facebook > a {
		&:before {
			height: 13px;
			width: 13px;
			@include svg(fb-wht);
			.hdr-light & {
				@include svg(fb-blk);
			}
		}	
	}

} // .menu




/* --------------------------------------------- */

/*	Layouts										 */

/* --------------------------------------------- */

.container {
	background-color: #fff;

	// Ensure that there's enough space between
	// header and content when there's no top
	.no-top & {
		padding-top: 30px;
		@media (min-width: 750px) {
			padding-top: 50px;		
		}
	}

	// When there IS a top, default to no padding
	// and insert space between top/bottom elements
	.has-top & {
		padding: 0;
		.btm {
			padding-top: 60px;
		}
	}
	.home & {
		background-color: transparent;
	}
}

.layout {
	@include layout;
}

.l-wide {
	@include layout(wide);
}

.l-slim {
	@include layout(slim);
}

.l-none {
	display: none;
}


//
// Regular Layout
//

.l-reg {
	.hdr-content,
	.top-content,
	.btm-content {
		@extend .layout;
	}
	.top-content {
		padding-top: 30px;		
	}
	.btm {
		// matches l-strip below
		background-color: #fff;
		padding-bottom: 75px;
	}
}


//
// Stripe Layouts
//

.l-strip {
	.top-content {
		max-width: 1100px;
		margin-left: auto;
		margin-right: auto;
		padding-top: 30px;
	}
	.hdr-content,
	.btm-content {
		@include layout;		
	}
	.btm {
		// matches l-reg above
		background-color: #fff;
		padding-bottom: 75px;
	}
}


//
// Overlay Layouts
//

.l-overlay {
	.container {
		@include layout(overlay);
		margin-top: 10px;
		margin-bottom: 75px;
		background-color: #fff;
		@include box-shadow(rgba(0,0,0,.2) 0 0 8px);	
	}
	.top-content {
		padding-top: 20px;
		margin-right: 20px;
		margin-left: 20px;
	}
	.btm-content {
		padding-bottom: 40px;
		padding-right: 20px;
		padding-left: 20px;
	}
	@media (min-width: 500px) {
		.top-content {
			padding-top: 30px;
			margin-right: 30px;
			margin-left: 30px;
		}
		.btm-content {
			padding-bottom: 50px;
			padding-right: 30px;
			padding-left: 30px;
		}
	} //mq
	@media (min-width: 960px) {
		.top-content {
			padding-top: 50px;
			margin-right: 50px;
			margin-left: 50px;
		}
		.btm-content {
			padding-bottom: 70px;
			padding-right: 50px;
			padding-left: 50px;
		}
	} //mq

} // l-overlay

.l-overlay-slim {
	@extend .l-overlay;

	.container {
		max-width: 780px;
	}
	@media (min-width: 860px) {
		margin-left: auto !important;
		margin-right: auto !important;
	}
}


//
// Text Layout
//

// Narrow layout, used mostly for text
.l-txt {
	@include l-txt;
}


//
// Sidebar Right Layouts
//

.l-sider {
	@include clearfix;

	// Follows txt layout rules at smaller sizes
	@include l-txt;

	> .ui-block-1 {
		margin-bottom: 50px;
	}

	// Turn into a 2-column layout 
	// (With a narrow sidebar)
	@media (min-width: 960px) {	
		max-width: none;
		> .ui-block-1 {
			width: 100%;
			float: left;
			margin-right: -375px;
			margin-bottom: 0;
			> .inner {
				margin-right: 375px;
			}
		}

		> .ui-block-2 {
			width: 275px;
			float: right;
			// Make everything in this column smaller now
			font-size: 11px;
		}

		// Narrow sidebar for overlay layout
		.l-overlay & > .ui-block-1 {
			margin-right: -350px;
			> .inner {
				margin-right: 350px;
			}			
		}

		.l-overlay & > .ui-block-2 {
			width: 250px;
		}

	} //mediaquery
} // layout-sider

//
// Sidebar Left Layouts
//

.l-sidel {
	@include pie-clearfix;

	// Follows txt layout rules at smaller sizes
	@include l-txt;

	> .ui-block-1, .ui-block-1 {
		margin-bottom: 50px;
	}
	// Turn into a 2-column layout
	// (With a narrow sidebar)

	// needs non-direct decendent to account for wrapping by sticky scroll plugins 
	@media (min-width: 750px) {
		max-width: none;

		> .ui-block-1, .ui-block-1 {
			width: 150px;
			float: left;
		}
		> .ui-block-2 {
			margin-left: 180px;
			margin-bottom: 0;
		}
	} //mediaquery

	// make the sidebar wider
	@media (min-width: 940px) {
		> .ui-block-1, .ui-block-1 {
			width: 200px;
		}
		> .ui-block-2 {
			margin-left: 240px;
		}		
	}
} // layout-sidel


//
// Grid Layouts
//

.l-grid {
	// Follows txt layout rules at smaller sizes
	@include l-txt;

	&:last-child {
		margin-bottom: 0;
	}

	@media (min-width: 900px) {
		max-width: none;
		@include ui-grid-2(50%, 50%, 7%);
		.ui-block-1,
		.ui-block-2 {
			margin-bottom: 90px;
		}
	}
}


// 
// Media Grids
//

.media-grid-2 {
	@media (min-width: 650px) and (max-width: 849px) {
		@include media-grid(2, 30px);
	}
	@media (min-width: 850px) {
		@include media-grid(2, 60px);
	}
	.ui-block {
		background-color: rgba(0,0,0,.5);
		height: 300px;
	}
} // media-grid-2


//
// Layout Exceptions
//

.no-nav.l-overlay {
	.container {
		margin-top: 0;
	}
	.main-container {
		padding-top: 20px;
	}
}


// If Book Promo is active, make sure top area has layout ...
.l-strip.book-promo-on {
	.top {
		@extend .layout;
	}
}

.l-strip.book-promo-on,
.l-reg.book-promo-on {
	.top-content {
		padding-top: 30px;
		padding-bottom: 50px;
	}
}

// If Background Promo is active in any layout buy overlay ...
.l-reg.bg-promo-on,
.l-strip.bg-promo-on {
	.content,
	.top-content {
		padding: 0;
	}
}

// If Background Promo is active in overlay layout ...
.l-overlay.bg-promo-on {
	.top-content {
		overflow: hidden;
	}
	@media (min-width: 960px) {
		.top-content {
			padding-top: 30px;
			margin-left: 30px;
			margin-right: 30px;
		}
	}
}

.l-strip.poster-promo-on {
	.top-content {
		max-width: none;
		margin-bottom: 0;
		padding-top: 0;		
	}
}

.l-reg.poster-promo-book-on,
.l-strip.poster-promo-book-on {
	.top-content {
		padding-top: 40px;
		padding-bottom: 50px;
	}
}

// Make sure poster promos look good when sitting
// inside of an overlay layout with no bottom content
.l-overlay.book-promo-on,
.l-overlay.poster-promo-on.no-btm,
.l-overlay.poster-promo-book-on.no-btm,
.l-overlay.media-with-overlay-on.no-btm,
.l-overlay.media-with-overlay-bg-on.no-btm {
	.top-content {
		padding-bottom: 50px;
	}
}

.l-reg.poster-promo-on {
	@media (max-width: 750px) {
		.top-content {
			padding-bottom: 20px;
		}
	} //mq	
}

.l-reg.media-with-overlay-on,
.l-strip.media-with-overlay-on,
.l-reg.media-with-overlay-bg-on,
.l-strip.media-with-overlay-bg-on {
	.top-content {
		padding-top: 0;
	}
}

// If Thumbnail Promo is active on an overlay layouts
.l-overlay.thumb-promo-on,
.l-overlay.thumb-promo-book-on {
	.top-content {
		padding-bottom: 30px;
		border-bottom: 1px dotted #eee;
	}
}

// If the Crop Book or Multibook Promo is active ...
.multibook-3-on,
.cbook-promo-on {
	// Make room for the book overhang 
	.container {
		margin-top: 50px;

		@media (min-width: 750px) {
			margin-top: 90px;			
		}		
	}
	.top {
		margin-bottom: 0;
	}
	.top-content {
		padding: 0;
		margin-bottom: 0;
	}
	// Hide the book overflow that peeks out from
	// beneath the multibook/crop container
	.btm {
		padding-top: 50px;		
		position: relative;
		background-color: #fff;
	}
}

// If Crop Book or Multi Promo active in Overlay
.l-overlay.multibook-3-on,
.l-overlay.cbook-promo-on {
	.top-content {
		margin-left: 0;
		margin-right: 0;
	}
}



// If Stripe or Regular Layout and:
// - It's the Homepage 
// - No Top
// - Background Texture Present
// Add more space between the nav and bottom content 
.l-reg.home.no-top.bg-texture-on,
.l-strip.home.no-top.bg-texture-on {
	& .container {
		background-color: #fff;			
	}
	& .main-hdr.hdr-clear.logo-top,
	& .main-hdr.hdr-clear.logo-bottom {	
		@media (min-width:750px) {
		padding-bottom: 30px;
		}
	} 
	& .btm-content {
		@media (min-width: 750px) {
			padding-top: 50px;
		}
	}
}

// If Stripe or Regular Layout and: 
// - It's the Homepage
// - Background Texture Present
// - Thumb Promo Present
// Create proper spacing by placing top promo on white bg 
.l-reg.home.bg-texture-on.thumb-promo-on,
.l-strip.home.bg-texture-on.thumb-promo-on,
.l-reg.home.bg-texture-on.thumb-promo-book-on,
.l-strip.home.bg-texture-on.thumb-promo-book-on {
	& .main-hdr.hdr-clear.logo-top,
	& .main-hdr.hdr-clear.logo-bottom {	
		@media (min-width:750px) {
		padding-bottom: 30px;
		}
	} 
	& .top {
		background-color: #fff;
	}
}



/* --------------------------------------------- */

/*	Patterns									 */

/* --------------------------------------------- */

.l-thumb-sm {
	@include l-thumb(40px);
}

.l-thumb-md {
	@include l-thumb(70px);
}

.l-thumb-lg {
	@include l-thumb(100px);
}


/* --------------------------------------------- */

/*	Promos										 */

/* --------------------------------------------- */

.edit-overlay {
	position:absolute;
	top:0;
	left:0;
	z-index:500;
	color:white;
	background-color:rgba(black, .8);
	padding:5px 10px;
}

.edit-overlay-sidebar {
	@extend .edit-overlay;
	right:0;
	left:auto;
	top:-1px;
	@include border-radius(3px);
}

.edit-overlay-promo {
	@extend .edit-overlay;
	.edit-overlay-note {
		font-size:.66em;
		color:#999;
	}
}

//
// Universal Promo Styles
//

.promo-box {
	padding: 25px;
	@include trans(.1s);

	.promo-dark & {
		color: #fff;
		background-color: #000;
	}
	.promo-light & {
		color: #000;
		background-color: #fff;
	}

	// Apply transparencies only when the box overlays the image ...
	@media (min-width: 750px) {
		.promo-dark.promo-trans & {
			@include bg(black, .3);
		}
		.promo-light.promo-trans & {
			@include bg(white, .3);
		}
		.promo-clear & {
			background-color: transparent;
		}
	}

	// ... Except for Poster Promo Book, which always sits on some sort of background
	.poster-promo-book.promo-dark.promo-trans & {
		@include bg(black, .3);
	}
	.poster-promo-book.promo-light.promo-trans & {
		@include bg(white, .3);
	}


	// Extra separator b/w bottom of unit and top of content
	.l-strip .promo-light & {
		border-bottom: 4px double #e5e5e5;
		@media (min-width: 750px) {
			border-bottom: 0;
		}
	} 

	// More space b/w footer and bottom of text
	.l-strip.no-btm & {
		padding-bottom: 50px;
		border-bottom: 0;
	}
}

// Overlay Exceptions
.l-overlay {
	@media (max-width: 399px) {
		.promo-box {
			padding: 20px 0 0 0;
		}
		.promo-dark .promo-box,
		.poster-promo-book .promo-box {
			padding: 20px 16px;
		}
	} //mq
}



//
// Poster Promo
//

.poster-promo-author {
	position: relative;

	// Add margin to bottom to create an evenly spaced bg in l-reg
	.l-reg & {
		@media (min-width: 750px) {
			margin-bottom: 30px;
		}
	}

	.art-bd {
		// Uses proportional height method to calculate height
		// and properly push down content below it  
		// http://alistapart.com/article/creating-intrinsic-ratios-for-video

		min-height: auto;
		padding-bottom: 72.5%;
	}
	.art {
		z-index: 0;
		width: 100%;
		@include absolute(n 0 n 0);
	}
	.poster-promo-box {
		@media (min-width: 750px) {
			width: 40%;
			max-width: 350px;
		}
	}
} // poster-promo

.poster-promo-book {
	@include l-pair(33%);

	.l-strip & {
		@include layout;
	}

	.art-bd {
		margin-bottom: 26px;
		@media (max-width: 499px) {
			width: 150px;
		}
	}

	.book-buy-btn {
		margin-top: 16px;
	}

	@media (min-width: 750px) {
		.poster-promo-box {
			width: 80%;
			max-width: 450px;
			margin-left: auto;
			margin-right: auto;
		}
	} //mq

}

.poster-promo-box {
	// Absolutely position the box when it's promo author
	@media (min-width: 750px) {
		.poster-promo-author.poster-promo-center & {
			width: 80%;
			max-width: 600px;
			margin: auto;
			@include absolute(10% 0 n 0);
		}
		.poster-promo-author.poster-promo-left & {
			@include absolute(10% n n 40px);
		}

		.poster-promo-author.poster-promo-right & {
			@include absolute(10% 40px n n);
		}
	} //mq
}


//
// Thumbnail Promo
//

.thumb-promo {
	@extend .l-thumb-md;
	max-width: 600px;
	margin: auto;
	.txt-l {
		font-style: italic;
		text-align: center;
		@media (min-width: 500px) {
			text-align: left;
		}
	}

	// Make sure to give yourself some
	// layout rules in small stripe layouts
	.l-strip & {
		@media (max-width: 640px) {
			@include layout;
		} //mq
	}

} // .thumb-promo


//
// Background Image Promo
//

.bg-promo {
	position: relative;
	margin: auto;
	@include pie-clearfix;

	.art-bd {
		// Make the art a bit bigger
		margin-left: -20%;
		margin-right: -20%;
		overflow: hidden;
		@include trans(.15s);

		@media (min-width: 450px) {
			// Uses proportional height method to calculate height
			// and properly push down content below it  
			// http://alistapart.com/article/creating-intrinsic-ratios-for-video
			height: 0;
			padding-bottom: 55%;
		}
		> .art {
			max-width: 100%;
			display: block;
		}
	}
	.txt-bd {
		text-align: center;
		margin: auto;
	}
	@media (min-width: 750px) {
		// Uses Flexbox to enable vertical centering
		// Explanation: http://weblog.bocoup.com/dive-into-flexbox/
		// Support & Documentation: http://caniuse.com/flexbox
		@include display-box;				// Legacy
		@include display(flex);				// Flex 2012

		.bg-height	{
			display: block;
			width: 0;
			padding-bottom: 50%;
		}

		.art-bd {
			// Zero out proportional height above ...
			height: auto;
			padding-bottom: 0;
			@include absolute(0 0 0 0);
		}

		.txt-bd {
			width: 45%;
			max-width: 450px;
			position: relative;

			// Flexbox
			@include display-box;				// Legacy
			@include display(flex);				// Flex 2012
			@include flex(0 1 45%);				// Flex 2012
			@include align-items(center);		// Flex 2012
			@include box-align(center);			// Legacy

			.lt-ie10 &,
			.no-flexbox.no-flexboxlegacy & {
				margin-top: -45%;
			}
		}
	} //mq
	@media (min-width: 900px) {
		// Turn off enlarged image
		.art-bd {
			margin: 0;
		}
		// More width = more shallow image
		.bg-height {
			padding-bottom: 40%;
		}
		.txt-bd {
			.lt-ie10 &,
			.no-flexbox.no-flexboxlegacy & {
				margin-top: -32.6%;
			}
		}		
	} //mq
} //bg-promo

// Firefox fixes
// bg-height doesn't work in Firefox
@-moz-document url-prefix() {
	.bg-promo {
		height: 100%;
		width: 100%;
		@media (min-width: 750px) {
			padding-bottom: 50%;
			.promo-box {
				width: 400px;
			}
		}
		@media (min-width: 900px) {
			padding-bottom: 40%;
			.promo-box {
				width: 450px;
			}
		}
	}
}

// IE Fixes for bg-promo
.ie10,
.lt-ie10 {
	.bg-height {
		padding-bottom: 0;
	}
	.bg-promo {
		@media (min-width: 750px) {
			height: 0;
			padding-bottom: 50%;
		}
		@media (min-width: 900px) {
			padding-bottom: 40%;
		}
	}
}

.ie10 {
	@media (min-width: 750px) {
		.bg-promo .txt-bd {
			padding-top: 8%;
		}
	}
}


.bg-promo-left {
	@media (min-width: 750px) {
		.txt-bd {
			margin-left: 2%;
		}
	}//mq
}

.bg-promo-center {
	@media (min-width: 750px) {
		.no-flexbox.no-flexboxlegacy & .txt-bd {
			margin-left: auto;
			margin-right: auto;
		}
	} //mq
}

.bg-promo-right {
	@media (min-width: 750px) {
		@include box-pack(end); 			// Legacy
		@include justify-content(flex-end); // Flex 2012

		.txt-bd {
			margin-right: 2%;
		}

		.no-flexbox.no-flexboxlegacy & .txt-bd {
			float: right;
		}
	}//mq
}


//
// Splash Promo (with Screen)
//

.splash-promo {
	position: relative;
	.slide {
		display: block;
	} 
}

.splash-img {
	@include resp-img;
}

.splash-h {
	margin-bottom: 8px;
}

.splash-txt {
	opacity: .95;
}

//
// Universal Splash Screen
//

.splash-screen {
	display: block;
	z-index: 1;
	padding: 16px 18px;
	@include trans(.1s);

	.splash-dark & {
		color: #fff;
		background-color: #000;
	}
	.splash-light & {
		color: #000;
		background-color: #fff;
	}

	// Apply transparencies & positioning only when the box overlays the image ...
	@media (min-width: 750px) {
		.splash-dark.splash-trans & {
			@include bg(black, .5);
		}
		.splash-light.splash-trans & {
			@include bg(white, .5);
		}
		.splash-clear & {
			background-color: transparent;
		}

		.splash-btm & {
			@include absolute(n 0 0 0);
		}
		.splash-left &,
		.splash-right &,
		.splash-center & {
			height: 100%;
			width: 45%;
			max-width: 600px;
			padding: 30px 25px;
		}
		.splash-left & {
			@include absolute(0 auto 0 0);			
		}
		.splash-center & {
			margin: auto;
			text-align: center;
			@include absolute(0 0 0 0);
		}
		.splash-right & {
			@include absolute(0 0 0 auto);			
		}
	}

	// Extra separator b/w bottom of unit and top of content
	.l-strip .splash-light & {
		border-bottom: 4px double #e5e5e5;
		@media (min-width: 750px) {
			border-bottom: 0;
		}
	} 

	// More space b/w footer and bottom of text
	.l-strip.no-btm & {
		padding-bottom: 50px;
		border-bottom: 0;
	}
}

// Vertical Centering Business
.splash-left,
.splash-right,
.splash-center {
	.splash-screen-outer {
		display: table;
		height: 100%;
	}
	.splash-screen-inner {
		display: table-cell;
		vertical-align: middle;
		height: 100%;		
	}
}



//
// Book Promo
//

.book-promo,
.cbook-promo{
	.art-bd {
		min-width: 150px;
	}
	@include l-pair;
	// Hack to get negative margin on
	// .art-crop working the way I want
	padding-top: 1px;
}

.cbook-promo {
	color: #ccc;

	.h1 {
		color: #ededed;
	}

	.txt, .txt-l {
		color: #ccc;
	}

	@media (max-width: 749px) {
		background-color: #000;

		> .art-bd {
			width: 90%;
			margin: auto;
			text-align: center;
			.art-crop {
				max-width: 300px;
				max-height: 320px;
				margin: 0 auto -80px;
			}
			.art {
				margin-top: -41px;
			}
		}
		.txt-bd {
			padding: 20px;
			background-color: #272727;
			// Ensures above book is cropped
			position: relative;
			z-index: 1;
		}
	}

	@media (min-width: 750px) {
		background-color: #272727;
		padding: 30px 30px 0;
		@include box-shadow(rgba(0,0,0,.5) 0px -4px 19px inset);

		.txt-bd {
			padding-bottom: 30px;
		}
		> .art-bd {
			min-width: 335px;
			.art-crop {
				margin-bottom: -20%;
				max-height: 350px;
			}
			.art {
				margin-top: -20%;
			}
		}
	} //mq
} //cbook-promo


.mbook-sub {
	padding: 30px 30px 0;
	background-color: rgb(34, 34, 34);
	color: rgb(229, 229, 228);
	// Ensures above book is cropped
	position: relative;
	z-index: 1;
	.ui-block-1 {
		border-bottom: 1px solid #333;
		margin-bottom: 30px;
	}
	.mbook-block {
		overflow: hidden;
	}
	.txt {
		color: #ccc;
		margin-bottom: 16px;
		max-width: 350px;
	}

	@media (max-width: 499px) {
		.mbook-block {
			@include pie-clearfix;
			.art-bd {
				width: 70px;
				float: right;
				margin: 0 0 20px 20px;
			}
		}
	} //mq

	@media (min-width: 500px) {
		// Crop books, but make sure that
		// longer text makes the rest of 
		// the book cover appear
		.art-bd > .art {
			margin-bottom: -30px;
		}
	} //mq

	@media (min-width: 750px) {
		@include ui-grid-2;
		.ui-block-1 {
			margin-bottom: 0;
			border-bottom: 0;
		}
	} //mq
}

.mbook-block {
	@include l-thumb(90px);
	.art-bd {
		vertical-align: top;
	}
}

// Social Buttons
.promo {
	.social-btns {
		margin-top: 20px; 
	}
	.social-btn {
		@media (max-width: 399px) {
			display: block;
			width: 95%;
			margin: auto;
		}
	}
} // promo

.social-btns {
	.fb-btn {
		margin-bottom: 16px;
	}

	@media (min-width: 400px) {
		.fb-btn {
			margin-right: 10px;
		}
		.fb-btn,
		.twtr-btn {
			margin-bottom: 10px;
		}
	}
}



// --------------------------------------------- /

//	Components & Teases							 // 

// --------------------------------------------- //

@import "project/objects";





/* --------------------------------------------- */

/*	Author Bio Pages					   		 */ 

/* --------------------------------------------- */

.author-content {
	@include pie-clearfix;
}

.author-stub-img-mod {
	margin: 0 auto;
	margin-bottom: 20px;
	max-width: 216px;
	@include pie-clearfix;

	@media (min-width: 550px) {
		max-width: 170px;
		float: right;
		margin: 0px 0px 40px 40px;			
	}
	@media (min-width: 650px) {
		max-width: 216px;
	}
}

.author-img {
	@include resp-img;
}

.author-social-top {
	display: none;
	@media (min-width: 550px) {
		display: block;
	}
}

.author-social-btm {
	display: block;
	@media (min-width: 550px) {
		display: none;
	}
}

.author-bio {
	margin-bottom: 20px;
}

.author-links {
	.h4 {
		font-weight: bold;
	}
}

.author-linklist {
	li {
		margin-bottom: 15px;
	}
	.link-title {
		margin-bottom: 0;
		> a {
			text-decoration: none;
		}
		> a:hover {
			text-decoration: underline;
		}
	}
}



/* --------------------------------------------- */

/*	Blogs / Posts / Article Page 				 */ 

/* --------------------------------------------- */

.post-txt {
	img {
		display: block;
		margin: auto;		
	}

	// When images are inserted directly into post
	// make sure they have some margin
	> img {
		margin: 20px 0;
	}

	.alignnone {
		width: 100%;
		height: auto;
		margin: 20px 0;

		img {
			margin: 20px 0;
			width: 100%;
			height: auto;
		}
	}

	.alignright {
		@media (min-width: 600px) {
			float: right;
			margin: 0 0 20px 40px;
		}		
	}
} // post-txt


//
// Article Page
//

.article-content {
	@include pie-clearfix;
}



.article-bd {
	margin-bottom: 20px;
	@include pie-clearfix;	
}

.article-share-top {
	display: none;
	@media (min-width: 550px) {
		display: block;
		float: right;
		max-width: 150px;
		margin: 0px 0px 30px 30px;
	}
}

.article-share-btm {
	@media (min-width: 550px) {
		display: none;
	}
}

.post-hgroup {
	.post-h {
		margin-bottom: 0;
	}
	margin-bottom: 20px;
}

.post-meta {
	margin-top: 8px;
	color: #aaa;
	li {
		display: inline;
	}
}

.post-meta-item {
	display: inline;
}

.meta-author {
	display: inline;

	&:after { 
		content: "|";
		font-weight: bold;
		font-size: 16px;
		display: inline;
	}

	&:last-child:after {
		content: "";
	} //&:last-child
}

.meta-tags {	
	display: inline;

	li {
		display: inline;
		margin-right: 4px;
	}	
}

.tag-item {
	> a:hover {
		text-decoration: underline;
	}
	&:after { 
		content: ",";
		margin-left: -2px;
	} // &:after

	&:last-child:after {
		content: "";
	} //&:last-child
}


.comments {
	border-top: 1px solid;
	border-color: #eee;
	padding: 30px 0px 30px 0px;
	margin-bottom: 30px;

}

.more-posts {
	padding-bottom: 50px;
	@include pie-clearfix;
	.post-tz {
		font-size: 11px;
	}
}


.trigger-load-more.btn-s {
	margin: 0 auto;
	text-align: center;
	display: block;
}


/* --------------------------------------------- */

/*	Books Pages 					 			 */ 

/* --------------------------------------------- */

// If cover art is missing 
.no-cover-txt {
	display: block;
	background-color: #ededed;
	height: 190px;
	padding: 30px 18px 0;
	line-height: 145%;
	text-align: center;
	font-style: italic;
}

.post-type-archive-books .section-h {
	margin-bottom: 30px;
}

.book-aside-hdr {
	margin-bottom: 30px;
}

.book-single-cover {
	position: relative;
	display: block;
	max-width: 150px;
	margin: 0 auto 20px;
	@media (min-width: 750px) {
		max-width: none;		
	}
	&:hover {
		cursor: pointer;
		.insight-txt {
			width: 68px;
		}
		.insight-btn {
			width: 118px;
		}
	}
}

.insight-btn {
	display: block;
	padding: 15px;
	width: 50px;
	height: 50px;
	background-color: #000;
	border: 2px solid rgba(255,255,255,.3);
	border-top: 0;
	border-right: 0;
	@include absolute(0 0 n n);
	@include trans(.2s, width); 
}

.insight-txt {
	position: relative;
	display: inline-block;
	top: -5px;

	padding-left: 10px;
	width: 0;
	overflow: hidden;

	text-transform: uppercase;
	font-size: 11px;
	letter-spacing: 1px;
	color: #ccc;
	@include trans(.2s, width); 
}

.insight-icon {
	height: 18px;
	width: 18px;
	display: inline-block;
	@include svg(search-wht);
	opacity: .8;
}

.book-single-img {
	@include resp-img;
}

.book-single-hdr {
	padding-bottom: 10px;
	border-bottom: 1px solid #ccc;
	margin-bottom: 30px;
	@media (min-width: 500px) {
		padding-bottom: 20px;
	}

	.book-h1 {
		margin-bottom: 0;
	}

	.book-deck {
		color: #666;
		font-size: 18px;
		margin-top: 4px;
		margin-bottom: 0;
		font-weight: 200;
		@media (min-width: 500px) {
			font-size: 23px;
		}
		.book-format {
			color:#AAA;
		}
		.book-subtitle {
			margin-right:12px;
		}
	}
}

a.book-buy-btn {
	font-weight: bold;
	display: block;
	margin: 0 20px;
	@media (min-width: 400px) {
		margin-left: auto;
		margin-right: auto;
	}
}

.book-single-txt {
	margin-bottom: 20px;
	@media (min-width: 750px) {
		margin-bottom: 50px;
	}
}

.share-book-single {
	border-bottom: 1px solid #eee;
	margin-bottom: 30px;

	@media (min-width: 550px) {
		display: block;
		float: right;
		max-width: 180px;
		margin-bottom: 0;
		padding: 0px 0px 20px 30px;
		background-color: #fff;
		border-bottom: 0;
	}
}

.share-book-single-top {
	display: none;
	@media (min-width: 550px) {
		display: block;
	}	
}

.share-book-single-btm {
	display: block;
	border-bottom: 0;
	@media (min-width: 500px) {
		display: none;
	}
}


.book-detail-mod {
	margin-bottom: 50px;
}

.book-subnav {
	display: none;
	padding: 6px;
	background-color: #eee;
	margin-bottom: 30px;

	> li {
		display: inline;
		margin-right: 6px;
		@media (min-width: 750px) {
			margin-right: 12px;			
		}
	}
	> li > a {
		display: inline-block;
		padding: 12px;
		height: 38px;
		&:hover {
			text-decoration: underline;
		}
	}
}

.more-books {
	@include pie-clearfix;
	border-top: 1px solid #ccc;
	padding-top: 30px;

	// Make the book-tz smaller since space is limited
	.books-tz-s {
		font-size: 11px;
	}
} 

.other-formats {
	position: relative;
	border-top: 1px solid #eee;
	padding: 8px 20px 0 0;
	border-bottom: 1px solid #eee;
	margin-bottom: 30px;
	background-color:white;
	.no-touch &:hover, &.open {
		cursor: default;
		.other-formats-list {
			display: block;
		}
	}	

	.arrow {
		display: inline-block;
		@include triangle(down, 6px, #222, .75);
		@include absolute (17px 10px n n);
	}

	.other-formats-h {
		margin-bottom: 12px;
	}
}

.other-formats-list {
	position: relative;
	display: none;

	li {
		display: block;
		margin-bottom: 10px;
	}

	li a {
		display: block;
	}
}

@media (min-width:750px) {
	.sticky-container {

		position:relative;
		.stickit {
	    	position: fixed;
	   	 	top: 10px;
		}

		.stickit-end {
			position:absolute;
			bottom:300px;
		}
	}
}





/* --------------------------------------------- */

/*	Events Pages 					 			 */ 

/* --------------------------------------------- */

//
// Events Overview
//

.mini-cal.event-date {
	display: block;
	float: left;	
}

.event-info {
	margin-left: 60px;
	.h1 {
		margin-bottom: 10px;		
	}
}

.event-descript {
	margin-bottom: 10px;
}

.event-meta {
	color:#666;
}

@media (min-width: 525px) {
	.event-descript {
		margin: 0;
	}

	.event-hgroup {
		float: left;
		width: 75%;
		padding-right: 20px;
	}

	.event-meta {
		float: right;
		width: 25%;
		color: #333;		
	}
} //mq

.event-time {
	display: inline;
	&:after { 
		content: "|";
		font-size: 16px;
		color: #999;
		position: relative;
		bottom: -1px;
		margin: 0 2px;
	} // &:before
	&:last-child:after {
		content: " ";		
	}
}

.event-link {
	display: inline;
	a {
		text-decoration: underline;
	}
	a:hover {
		text-decoration: none;
	}
		&:before { 
			content: "|";
			font-size: 16px;
			color: #999;
			position: relative;
			bottom: -1px;
			margin: 0 2px;
		} // &:before

		&:last-child:before {
			content: " ";
		} // last-child		
}

.no-events-mod {
	background-color: #eee;
	padding: 35px;
	margin-bottom: 25px;
	font-style: italic;
	@include pie-clearfix;
}


//
// Events Single
//

.event-img {
	margin-bottom: 30px;
	@include resp-img;
}

.event-single {
	.event-location {
		color: #666;
		font-weight: 200;
	}
	.event-place {
		font-weight: 700;
	}
}

.event-single-hdr {
	margin-bottom: 20px;
}

.event-single-meta {
	border-top: 1px solid #eee;
	padding: 12px 0;
	border-bottom: 1px solid #eee;
	margin-bottom: 12px;

	li {
		display: inline;
		margin-right: 10px;
	}
}

.event-single-txt {
	margin-top: 20px;
	margin-bottom:20px;
	border-color: #eee;
	@include pie-clearfix;
}

#gr_add_to_books {
	height: 30px;
	overflow: hidden;
	&:hover,
	.touch & {
		overflow: visible;
	}

	iframe {
		width:100% !important;
		max-width:100% !important;
	}
}

.share-event .share-tools-s {
	padding-top: 0;
	border-top: 0;
}


/* --------------------------------------------- */

/*	404 / Error Pages 					 		 */ 

/* --------------------------------------------- */

.error-content {
	text-align: center;
}

.error-txt {
	margin-bottom: 12px;
}

.txt-xl.error-link {
	font-weight: bold;
}


/* --------------------------------------------- */

/*	Footer 					 					 */ 

/* --------------------------------------------- */

.ftr-main {
	color: #e5e5e5;
	background-color: #333;	
	padding: 40px 0 50px;
	text-align: center;
}

.ftr-content {
	@extend .layout;
}

.ftr-menu {
	@extend .list-horiz;
	max-width: 750px;
	margin: 0 auto 10px;
	line-height: 170%;
	> li:after {
		color: #777;
	}
	> li > a {
		padding: 6px 0;
		color: #ccc;
		color: rgba(255,255,255,.7);
		&:hover {
			text-decoration: underline;
		}
	}
}

.ftr-copyright {
	color: #666;
}

.ftr-logos {
	margin-bottom: 10px;
}

.ftr-logo {
	width: 70px;
	display: inline-block;
	opacity: .7;
	@include trans;
	&:hover {
		opacity: 1;
	}
	> img {
		@include resp-img;
	}
}

.ftr-logo.rh {
	margin-right: 12px;
}

.rh-division.rhpg {
	margin-left:40px;
	&.ftr-logo {
		width:90px;
	}
}



/* --------------------------------------------- */

/*	Inkwell basics 					  			 */

/* --------------------------------------------- */
 
.ink-header {
	background-color:black;
}

.ink-logo-text {
	font-size:80px;
	color:white;
}

// Summary / Archive 
.ink-summary {
	border-bottom:1px solid black;
}

//
// Article pages
//

.ink-article-top-img {
	max-width:100%;
}

.ink-article-top-credit {
	text-align:right;
	color:#CCC;
}

//
// Layout
//

.ink-layout-content {
	padding:40px;
	max-width:$max-width;
	margin:auto;
}

.ink-layout-stream {
	@media (min-width:900px) {
		float:left;
		width:75%;
		&.no-sidebar {
			float:none;
			width:100%;
		}
	}
}

.ink-layout-sidebar {
	@media (min-width:900px) {
		float:left;
		width:25%;
	}
}

.sidebar-container {
	position:relative;
}




/* --------------------------------------------- */
/*	Print Styles							     
	Inline to avoid required HTTP connection     */
/* --------------------------------------------- */

// Import Print Styles
@import "project/print";
@import "project/events";




